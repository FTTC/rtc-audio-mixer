!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("trtc-js-sdk")):"function"==typeof define&&define.amd?define(["trtc-js-sdk"],e):(t=t||self).AudioMixerPlugin=e(t.TRTC)}(this,(function(t){function e(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void r(s)}u.done?e(c):Promise.resolve(c).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function u(t){e(a,o,i,u,c,"next",t)}function c(t){e(a,o,i,u,c,"throw",t)}u(void 0)}))}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var a=function(t){try{return!!t()}catch(e){return!0}},u={}.toString,c=function(t){return u.call(t).slice(8,-1)},s="".split,f=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==c(t)?s.call(t,""):Object(t)}:Object,l=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},d=function(t){return f(l(t))},h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function p(t,e){return t(e={exports:{}},e.exports),e.exports}var v,y,g=function(t){return t&&t.Math==Math&&t},m=g("object"==typeof globalThis&&globalThis)||g("object"==typeof window&&window)||g("object"==typeof self&&self)||g("object"==typeof h&&h)||function(){return this}()||Function("return this")(),w=function(t,e){try{Object.defineProperty(m,t,{value:e,configurable:!0,writable:!0})}catch(r){m[t]=e}return e},x=m["__core-js_shared__"]||w("__core-js_shared__",{}),b=p((function(t){(t.exports=function(t,e){return x[t]||(x[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.16.0",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),E=function(t){return Object(l(t))},S={}.hasOwnProperty,k=Object.hasOwn||function(t,e){return S.call(E(t),e)},O=0,T=Math.random(),A=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++O+T).toString(36)},j=function(t){return"function"==typeof t?t:void 0},_=function(t,e){return arguments.length<2?j(m[t]):m[t]&&m[t][e]},L=_("navigator","userAgent")||"",I=m.process,P=m.Deno,M=I&&I.versions||P&&P.version,R=M&&M.v8;R?y=(v=R.split("."))[0]<4?1:v[0]+v[1]:L&&(!(v=L.match(/Edge\/(\d+)/))||v[1]>=74)&&(v=L.match(/Chrome\/(\d+)/))&&(y=v[1]);var C,F=y&&+y,N=!!Object.getOwnPropertySymbols&&!a((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&F&&F<41})),D=N&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,z=b("wks"),G=m.Symbol,W=D?G:G&&G.withoutSetter||A,B=function(t){return k(z,t)&&(N||"string"==typeof z[t])||(N&&k(G,t)?z[t]=G[t]:z[t]=W("Symbol."+t)),z[t]},V=function(t){return"object"==typeof t?null!==t:"function"==typeof t},U=function(t){if(!V(t))throw TypeError(String(t)+" is not an object");return t},Y=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),K=m.document,H=V(K)&&V(K.createElement),Q=function(t){return H?K.createElement(t):{}},$=!Y&&!a((function(){return 7!=Object.defineProperty(Q("div"),"a",{get:function(){return 7}}).a})),q=D?function(t){return"symbol"==typeof t}:function(t){var e=_("Symbol");return"function"==typeof e&&Object(t)instanceof e},X=B("toPrimitive"),J=function(t,e){if(!V(t)||q(t))return t;var r,n=t[X];if(void 0!==n){if(void 0===e&&(e="default"),r=n.call(t,e),!V(r)||q(r))return r;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var r,n;if("string"===e&&"function"==typeof(r=t.toString)&&!V(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!V(n=r.call(t)))return n;if("string"!==e&&"function"==typeof(r=t.toString)&&!V(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}(t,e)},Z=function(t){var e=J(t,"string");return q(e)?e:String(e)},tt=Object.defineProperty,et={f:Y?tt:function(t,e,r){if(U(t),e=Z(e),U(r),$)try{return tt(t,e,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},rt=Math.ceil,nt=Math.floor,ot=function(t){return isNaN(t=+t)?0:(t>0?nt:rt)(t)},it=Math.min,at=function(t){return t>0?it(ot(t),9007199254740991):0},ut=Math.max,ct=Math.min,st=function(t){return function(e,r,n){var o,i=d(e),a=at(i.length),u=function(t,e){var r=ot(t);return r<0?ut(r+e,0):ct(r,e)}(n,a);if(t&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},ft={includes:st(!0),indexOf:st(!1)},lt={},dt=ft.indexOf,ht=function(t,e){var r,n=d(t),o=0,i=[];for(r in n)!k(lt,r)&&k(n,r)&&i.push(r);for(;e.length>o;)k(n,r=e[o++])&&(~dt(i,r)||i.push(r));return i},pt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],vt=Object.keys||function(t){return ht(t,pt)},yt=Y?Object.defineProperties:function(t,e){U(t);for(var r,n=vt(e),o=n.length,i=0;o>i;)et.f(t,r=n[i++],e[r]);return t},gt=_("document","documentElement"),mt=b("keys"),wt=function(t){return mt[t]||(mt[t]=A(t))},xt=wt("IE_PROTO"),bt=function(){},Et=function(t){return"<script>"+t+"<\/script>"},St=function(t){t.write(Et("")),t.close();var e=t.parentWindow.Object;return t=null,e},kt=function(){try{C=new ActiveXObject("htmlfile")}catch(e){}kt=document.domain&&C?St(C):function(){var t,e=Q("iframe");if(e.style)return e.style.display="none",gt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Et("document.F=Object")),t.close(),t.F}()||St(C);for(var t=pt.length;t--;)delete kt.prototype[pt[t]];return kt()};lt[xt]=!0;var Ot=Object.create||function(t,e){var r;return null!==t?(bt.prototype=U(t),r=new bt,bt.prototype=null,r[xt]=t):r=kt(),void 0===e?r:yt(r,e)},Tt=B("unscopables"),At=Array.prototype;null==At[Tt]&&et.f(At,Tt,{configurable:!0,value:Ot(null)});var jt=function(t){At[Tt][t]=!0},_t={},Lt=Function.toString;"function"!=typeof x.inspectSource&&(x.inspectSource=function(t){return Lt.call(t)});var It,Pt,Mt,Rt=x.inspectSource,Ct=m.WeakMap,Ft="function"==typeof Ct&&/native code/.test(Rt(Ct)),Nt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Dt=Y?function(t,e,r){return et.f(t,e,Nt(1,r))}:function(t,e,r){return t[e]=r,t},zt=m.WeakMap;if(Ft||x.state){var Gt=x.state||(x.state=new zt),Wt=Gt.get,Bt=Gt.has,Vt=Gt.set;It=function(t,e){if(Bt.call(Gt,t))throw new TypeError("Object already initialized");return e.facade=t,Vt.call(Gt,t,e),e},Pt=function(t){return Wt.call(Gt,t)||{}},Mt=function(t){return Bt.call(Gt,t)}}else{var Ut=wt("state");lt[Ut]=!0,It=function(t,e){if(k(t,Ut))throw new TypeError("Object already initialized");return e.facade=t,Dt(t,Ut,e),e},Pt=function(t){return k(t,Ut)?t[Ut]:{}},Mt=function(t){return k(t,Ut)}}var Yt,Kt,Ht,Qt={set:It,get:Pt,has:Mt,enforce:function(t){return Mt(t)?Pt(t):It(t,{})},getterFor:function(t){return function(e){var r;if(!V(e)||(r=Pt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},$t={}.propertyIsEnumerable,qt=Object.getOwnPropertyDescriptor,Xt={f:qt&&!$t.call({1:2},1)?function(t){var e=qt(this,t);return!!e&&e.enumerable}:$t},Jt=Object.getOwnPropertyDescriptor,Zt={f:Y?Jt:function(t,e){if(t=d(t),e=Z(e),$)try{return Jt(t,e)}catch(r){}if(k(t,e))return Nt(!Xt.f.call(t,e),t[e])}},te=p((function(t){var e=Qt.get,r=Qt.enforce,n=String(String).split("String");(t.exports=function(t,e,o,i){var a,u=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof e||k(o,"name")||Dt(o,"name",e),(a=r(o)).source||(a.source=n.join("string"==typeof e?e:""))),t!==m?(u?!s&&t[e]&&(c=!0):delete t[e],c?t[e]=o:Dt(t,e,o)):c?t[e]=o:w(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Rt(this)}))})),ee=pt.concat("length","prototype"),re={f:Object.getOwnPropertyNames||function(t){return ht(t,ee)}},ne={f:Object.getOwnPropertySymbols},oe=_("Reflect","ownKeys")||function(t){var e=re.f(U(t)),r=ne.f;return r?e.concat(r(t)):e},ie=function(t,e){for(var r=oe(e),n=et.f,o=Zt.f,i=0;i<r.length;i++){var a=r[i];k(t,a)||n(t,a,o(e,a))}},ae=/#|\.prototype\./,ue=function(t,e){var r=se[ce(t)];return r==le||r!=fe&&("function"==typeof e?a(e):!!e)},ce=ue.normalize=function(t){return String(t).replace(ae,".").toLowerCase()},se=ue.data={},fe=ue.NATIVE="N",le=ue.POLYFILL="P",de=ue,he=Zt.f,pe=function(t,e){var r,n,o,i,a,u=t.target,c=t.global,s=t.stat;if(r=c?m:s?m[u]||w(u,{}):(m[u]||{}).prototype)for(n in e){if(i=e[n],o=t.noTargetGet?(a=he(r,n))&&a.value:r[n],!de(c?n:u+(s?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;ie(i,o)}(t.sham||o&&o.sham)&&Dt(i,"sham",!0),te(r,n,i,t)}},ve=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ye=wt("IE_PROTO"),ge=Object.prototype,me=ve?Object.getPrototypeOf:function(t){return t=E(t),k(t,ye)?t[ye]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ge:null},we=B("iterator"),xe=!1;[].keys&&("next"in(Ht=[].keys())?(Kt=me(me(Ht)))!==Object.prototype&&(Yt=Kt):xe=!0),(null==Yt||a((function(){var t={};return Yt[we].call(t)!==t})))&&(Yt={}),k(Yt,we)||Dt(Yt,we,(function(){return this}));var be={IteratorPrototype:Yt,BUGGY_SAFARI_ITERATORS:xe},Ee=et.f,Se=B("toStringTag"),ke=function(t,e,r){t&&!k(t=r?t:t.prototype,Se)&&Ee(t,Se,{configurable:!0,value:e})},Oe=be.IteratorPrototype,Te=function(){return this},Ae=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(n){}return function(r,n){return U(r),function(t){if(!V(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),je=be.IteratorPrototype,_e=be.BUGGY_SAFARI_ITERATORS,Le=B("iterator"),Ie=function(){return this},Pe=function(t,e,r,n,o,i,a){!function(t,e,r){var n=e+" Iterator";t.prototype=Ot(Oe,{next:Nt(1,r)}),ke(t,n,!1),_t[n]=Te}(r,e,n);var u,c,s,f=function(t){if(t===o&&v)return v;if(!_e&&t in h)return h[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",d=!1,h=t.prototype,p=h[Le]||h["@@iterator"]||o&&h[o],v=!_e&&p||f(o),y="Array"==e&&h.entries||p;if(y&&(u=me(y.call(new t)),je!==Object.prototype&&u.next&&(me(u)!==je&&(Ae?Ae(u,je):"function"!=typeof u[Le]&&Dt(u,Le,Ie)),ke(u,l,!0))),"values"==o&&p&&"values"!==p.name&&(d=!0,v=function(){return p.call(this)}),h[Le]!==v&&Dt(h,Le,v),_t[e]=v,o)if(c={values:f("values"),keys:i?v:f("keys"),entries:f("entries")},a)for(s in c)(_e||d||!(s in h))&&te(h,s,c[s]);else pe({target:e,proto:!0,forced:_e||d},c);return c},Me=Qt.set,Re=Qt.getterFor("Array Iterator"),Ce=Pe(Array,"Array",(function(t,e){Me(this,{type:"Array Iterator",target:d(t),index:0,kind:e})}),(function(){var t=Re(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");_t.Arguments=_t.Array,jt("keys"),jt("values"),jt("entries");var Fe=re.f,Ne={}.toString,De="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ze={f:function(t){return De&&"[object Window]"==Ne.call(t)?function(t){try{return Fe(t)}catch(e){return De.slice()}}(t):Fe(d(t))}},Ge=!a((function(){return Object.isExtensible(Object.preventExtensions({}))})),We=p((function(t){var e=et.f,r=!1,n=A("meta"),o=0,i=Object.isExtensible||function(){return!0},a=function(t){e(t,n,{value:{objectID:"O"+o++,weakData:{}}})},u=t.exports={enable:function(){u.enable=function(){},r=!0;var t=re.f,e=[].splice,o={};o[n]=1,t(o).length&&(re.f=function(r){for(var o=t(r),i=0,a=o.length;i<a;i++)if(o[i]===n){e.call(o,i,1);break}return o},pe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ze.f}))},fastKey:function(t,e){if(!V(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!k(t,n)){if(!i(t))return"F";if(!e)return"E";a(t)}return t[n].objectID},getWeakData:function(t,e){if(!k(t,n)){if(!i(t))return!0;if(!e)return!1;a(t)}return t[n].weakData},onFreeze:function(t){return Ge&&r&&i(t)&&!k(t,n)&&a(t),t}};lt[n]=!0})),Be=(We.enable,We.fastKey,We.getWeakData,We.onFreeze,B("iterator")),Ve=Array.prototype,Ue=function(t,e,r){if(function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function")}(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},Ye={};Ye[B("toStringTag")]="z";var Ke="[object z]"===String(Ye),He=B("toStringTag"),Qe="Arguments"==c(function(){return arguments}()),$e=Ke?c:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(r){}}(e=Object(t),He))?r:Qe?c(e):"Object"==(n=c(e))&&"function"==typeof e.callee?"Arguments":n},qe=B("iterator"),Xe=function(t){var e=t.return;if(void 0!==e)return U(e.call(t)).value},Je=function(t,e){this.stopped=t,this.result=e},Ze=function(t,e,r){var n,o,i,a,u,c,s,f,l=r&&r.that,d=!(!r||!r.AS_ENTRIES),h=!(!r||!r.IS_ITERATOR),p=!(!r||!r.INTERRUPTED),v=Ue(e,l,1+d+p),y=function(t){return n&&Xe(n),new Je(!0,t)},g=function(t){return d?(U(t),p?v(t[0],t[1],y):v(t[0],t[1])):p?v(t,y):v(t)};if(h)n=t;else{if("function"!=typeof(o=function(t){if(null!=t)return t[qe]||t["@@iterator"]||_t[$e(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(f=o)&&(_t.Array===f||Ve[Be]===f)){for(i=0,a=at(t.length);a>i;i++)if((u=g(t[i]))&&u instanceof Je)return u;return new Je(!1)}n=o.call(t)}for(c=n.next;!(s=c.call(n)).done;){try{u=g(s.value)}catch(m){throw Xe(n),m}if("object"==typeof u&&u&&u instanceof Je)return u}return new Je(!1)},tr=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t},er=B("iterator"),rr=!1;try{var nr=0,or={next:function(){return{done:!!nr++}},return:function(){rr=!0}};or[er]=function(){return this},Array.from(or,(function(){throw 2}))}catch(xo){}var ir=function(t,e,r){for(var n in e)te(t,n,e[n],r);return t},ar=B("species"),ur=et.f,cr=We.fastKey,sr=Qt.set,fr=Qt.getterFor,lr=(function(t,e,r){var n=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),i=n?"set":"add",u=m[t],c=u&&u.prototype,s=u,f={},l=function(t){var e=c[t];te(c,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!V(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!V(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!V(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(de(t,"function"!=typeof u||!(o||c.forEach&&!a((function(){(new u).entries().next()})))))s=r.getConstructor(e,t,n,i),We.enable();else if(de(t,!0)){var d=new s,h=d[i](o?{}:-0,1)!=d,p=a((function(){d.has(1)})),v=function(t,e){if(!e&&!rr)return!1;var r=!1;try{var n={};n[er]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(xo){}return r}((function(t){new u(t)})),y=!o&&a((function(){for(var t=new u,e=5;e--;)t[i](e,e);return!t.has(-0)}));v||((s=e((function(e,r){tr(e,s,t);var o=function(t,e,r){var n,o;return Ae&&"function"==typeof(n=e.constructor)&&n!==r&&V(o=n.prototype)&&o!==r.prototype&&Ae(t,o),t}(new u,e,s);return null!=r&&Ze(r,o[i],{that:o,AS_ENTRIES:n}),o}))).prototype=c,c.constructor=s),(p||y)&&(l("delete"),l("has"),n&&l("get")),(y||h)&&l(i),o&&c.clear&&delete c.clear}f[t]=s,pe({global:!0,forced:s!=u},f),ke(s,t),o||r.setStrong(s,t,n)}("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,r,n){var o=t((function(t,i){tr(t,o,e),sr(t,{type:e,index:Ot(null),first:void 0,last:void 0,size:0}),Y||(t.size=0),null!=i&&Ze(i,t[n],{that:t,AS_ENTRIES:r})})),i=fr(e),a=function(t,e,r){var n,o,a=i(t),c=u(t,e);return c?c.value=r:(a.last=c={index:o=cr(e,!0),key:e,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=c),n&&(n.next=c),Y?a.size++:t.size++,"F"!==o&&(a.index[o]=c)),t},u=function(t,e){var r,n=i(t),o=cr(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==e)return r};return ir(o.prototype,{clear:function(){for(var t=i(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,Y?t.size=0:this.size=0},delete:function(t){var e=i(this),r=u(this,t);if(r){var n=r.next,o=r.previous;delete e.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),e.first==r&&(e.first=n),e.last==r&&(e.last=o),Y?e.size--:this.size--}return!!r},forEach:function(t){for(var e,r=i(this),n=Ue(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!u(this,t)}}),ir(o.prototype,r?{get:function(t){var e=u(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),Y&&ur(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(t,e,r){var n=e+" Iterator",o=fr(e),i=fr(n);Pe(t,e,(function(t,e){sr(this,{type:n,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),function(t){var e=_(t),r=et.f;Y&&e&&!e[ar]&&r(e,ar,{configurable:!0,get:function(){return this}})}(e)}}),Ke?{}.toString:function(){return"[object "+$e(this)+"]"});Ke||te(Object.prototype,"toString",lr,{unsafe:!0});var dr=function(t){if(q(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)},hr=function(t){return function(e,r){var n,o,i=dr(l(e)),a=ot(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===u||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):n:t?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},pr={codeAt:hr(!1),charAt:hr(!0)},vr=pr.charAt,yr=Qt.set,gr=Qt.getterFor("String Iterator");Pe(String,"String",(function(t){yr(this,{type:"String Iterator",string:dr(t),index:0})}),(function(){var t,e=gr(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=vr(r,n),e.index+=t.length,{value:t,done:!1})}));var mr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},wr=B("iterator"),xr=B("toStringTag"),br=Ce.values;for(var Er in mr){var Sr=m[Er],kr=Sr&&Sr.prototype;if(kr){if(kr[wr]!==br)try{Dt(kr,wr,br)}catch(xo){kr[wr]=br}if(kr[xr]||Dt(kr,xr,Er),mr[Er])for(var Or in Ce)if(kr[Or]!==Ce[Or])try{Dt(kr,Or,Ce[Or])}catch(xo){kr[Or]=Ce[Or]}}}var Tr=Array.isArray||function(t){return"Array"==c(t)},Ar=B("species"),jr=function(t,e){return new(function(t){var e;return Tr(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Tr(e.prototype)?V(e)&&null===(e=e[Ar])&&(e=void 0):e=void 0),void 0===e?Array:e}(t))(0===e?0:e)},_r=[].push,Lr=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(c,s,l,d){for(var h,p,v=E(c),y=f(v),g=Ue(s,l,3),m=at(y.length),w=0,x=d||jr,b=e?x(c,m):r||a?x(c,0):void 0;m>w;w++)if((u||w in y)&&(p=g(h=y[w],w,v),t))if(e)b[w]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return w;case 2:_r.call(b,h)}else switch(t){case 4:return!1;case 7:_r.call(b,h)}return i?-1:n||o?o:b}},Ir={forEach:Lr(0),map:Lr(1),filter:Lr(2),some:Lr(3),every:Lr(4),find:Lr(5),findIndex:Lr(6),filterReject:Lr(7)},Pr=function(t,e){var r=[][t];return!!r&&a((function(){r.call(null,e||function(){throw 1},1)}))},Mr=Ir.forEach,Rr=Pr("forEach")?[].forEach:function(t){return Mr(this,t,arguments.length>1?arguments[1]:void 0)};for(var Cr in pe({target:"Array",proto:!0,forced:[].forEach!=Rr},{forEach:Rr}),mr){var Fr=m[Cr],Nr=Fr&&Fr.prototype;if(Nr&&Nr.forEach!==Rr)try{Dt(Nr,"forEach",Rr)}catch(xo){Nr.forEach=Rr}}var Dr=Math.min,zr=[].lastIndexOf,Gr=!!zr&&1/[1].lastIndexOf(1,-0)<0,Wr=Pr("lastIndexOf"),Br=Gr||!Wr?function(t){if(Gr)return zr.apply(this,arguments)||0;var e=d(this),r=at(e.length),n=r-1;for(arguments.length>1&&(n=Dr(n,ot(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}:zr;pe({target:"Array",proto:!0,forced:Br!==[].lastIndexOf},{lastIndexOf:Br});var Vr=ft.indexOf,Ur=[].indexOf,Yr=!!Ur&&1/[1].indexOf(1,-0)<0,Kr=Pr("indexOf");pe({target:"Array",proto:!0,forced:Yr||!Kr},{indexOf:function(t){return Yr?Ur.apply(this,arguments)||0:Vr(this,t,arguments.length>1?arguments[1]:void 0)}});var Hr,Qr=B("match"),$r=function(t){if(function(t){var e;return V(t)&&(void 0!==(e=t[Qr])?!!e:"RegExp"==c(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},qr=B("match"),Xr=Zt.f,Jr="".startsWith,Zr=Math.min,tn=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[qr]=!1,"/./"[t](e)}catch(n){}}return!1}("startsWith"),en=!(tn||(Hr=Xr(String.prototype,"startsWith"),!Hr||Hr.writable));pe({target:"String",proto:!0,forced:!en&&!tn},{startsWith:function(t){var e=dr(l(this));$r(t);var r=at(Zr(arguments.length>1?arguments[1]:void 0,e.length)),n=dr(t);return Jr?Jr.call(e,n,r):e.slice(r,r+n.length)===n}}),pe({target:"Array",stat:!0},{isArray:Tr});p((function(t){var e=function(t){var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(T){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new S(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return O()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=x(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(T){return{type:"throw",arg:T}}}t.wrap=c;var f={};function l(){}function d(){}function h(){}var p={};u(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==e&&r.call(y,o)&&(p=y);var g=h.prototype=l.prototype=Object.create(p);function m(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(o,i){function a(){return new e((function(n,a){!function n(o,i,a,u){var c=s(t[o],t,i);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=h,u(g,"constructor",h),u(h,"constructor",d),d.displayName=u(h,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(g),u(g,a,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}(t.exports);try{regeneratorRuntime=e}catch(r){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}));var rn=B("species"),nn=function(t){return F>=51||!a((function(){var e=[];return(e.constructor={})[rn]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},on=Ir.map,an=nn("map");pe({target:"Array",proto:!0,forced:!an},{map:function(t){return on(this,t,arguments.length>1?arguments[1]:void 0)}});var un=Ir.filter,cn=nn("filter");pe({target:"Array",proto:!0,forced:!cn},{filter:function(t){return un(this,t,arguments.length>1?arguments[1]:void 0)}});var sn=Ir.findIndex,fn=!0;"findIndex"in[]&&Array(1).findIndex((function(){fn=!1})),pe({target:"Array",proto:!0,forced:fn},{findIndex:function(t){return sn(this,t,arguments.length>1?arguments[1]:void 0)}}),jt("findIndex");var ln,dn,hn=function(){var t=U(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},pn=function(t,e){return RegExp(t,e)},vn={UNSUPPORTED_Y:a((function(){var t=pn("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:a((function(){var t=pn("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},yn=a((function(){var t=RegExp(".","string".charAt(0));return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),gn=a((function(){var t=RegExp("(?<a>b)","string".charAt(5));return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),mn=Qt.get,wn=RegExp.prototype.exec,xn=b("native-string-replace",String.prototype.replace),bn=wn,En=(ln=/a/,dn=/b*/g,wn.call(ln,"a"),wn.call(dn,"a"),0!==ln.lastIndex||0!==dn.lastIndex),Sn=vn.UNSUPPORTED_Y||vn.BROKEN_CARET,kn=void 0!==/()??/.exec("")[1];(En||kn||Sn||yn||gn)&&(bn=function(t){var e,r,n,o,i,a,u,c=this,s=mn(c),f=dr(t),l=s.raw;if(l)return l.lastIndex=c.lastIndex,e=bn.call(l,f),c.lastIndex=l.lastIndex,e;var d=s.groups,h=Sn&&c.sticky,p=hn.call(c),v=c.source,y=0,g=f;if(h&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),g=f.slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==f.charAt(c.lastIndex-1))&&(v="(?: "+v+")",g=" "+g,y++),r=new RegExp("^(?:"+v+")",p)),kn&&(r=new RegExp("^"+v+"$(?!\\s)",p)),En&&(n=c.lastIndex),o=wn.call(h?r:c,g),h?o?(o.input=o.input.slice(y),o[0]=o[0].slice(y),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:En&&o&&(c.lastIndex=c.global?o.index+o[0].length:n),kn&&o&&o.length>1&&xn.call(o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&d)for(o.groups=a=Ot(null),i=0;i<d.length;i++)a[(u=d[i])[0]]=o[u[1]];return o});var On=bn;pe({target:"RegExp",proto:!0,forced:/./.exec!==On},{exec:On});var Tn="[\t\n\v\f\r                　\u2028\u2029\ufeff]",An=RegExp("^"+Tn+Tn+"*"),jn=RegExp(Tn+Tn+"*$"),_n=function(t){return function(e){var r=dr(l(e));return 1&t&&(r=r.replace(An,"")),2&t&&(r=r.replace(jn,"")),r}},Ln={start:_n(1),end:_n(2),trim:_n(3)}.trim,In=m.parseFloat,Pn=1/In("\t\n\v\f\r                　\u2028\u2029\ufeff-0")!=-Infinity?function(t){var e=Ln(dr(t)),r=In(e);return 0===r&&"-"==e.charAt(0)?-0:r}:In;pe({global:!0,forced:parseFloat!=Pn},{parseFloat:Pn});var Mn=B("species"),Rn=RegExp.prototype,Cn=pr.charAt,Fn=function(t,e,r){return e+(r?Cn(t,e).length:1)},Nn=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==c(t))throw TypeError("RegExp#exec called on incompatible receiver");return On.call(t,e)};!function(t,e,r,n){var o=B(t),i=!a((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),u=i&&!a((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[Mn]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!u||r){var c=/./[o],s=e(o,""[t],(function(t,e,r,n,o){var a=e.exec;return a===On||a===Rn.exec?i&&!o?{done:!0,value:c.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}));te(String.prototype,t,s[0]),te(Rn,o,s[1])}n&&Dt(Rn[o],"sham",!0)}("match",(function(t,e,r){return[function(e){var r=l(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](dr(r))},function(t){var n=U(this),o=dr(t),i=r(e,n,o);if(i.done)return i.value;if(!n.global)return Nn(n,o);var a=n.unicode;n.lastIndex=0;for(var u,c=[],s=0;null!==(u=Nn(n,o));){var f=dr(u[0]);c[s]=f,""===f&&(n.lastIndex=Fn(o,at(n.lastIndex),a)),s++}return 0===s?null:c}]}));var Dn=function(t,e,r){var n=Z(e);n in t?et.f(t,n,Nt(0,r)):t[n]=r},zn=B("isConcatSpreadable"),Gn=F>=51||!a((function(){var t=[];return t[zn]=!1,t.concat()[0]!==t})),Wn=nn("concat"),Bn=function(t){if(!V(t))return!1;var e=t[zn];return void 0!==e?!!e:Tr(t)};pe({target:"Array",proto:!0,forced:!Gn||!Wn},{concat:function(t){var e,r,n,o,i,a=E(this),u=jr(a,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(Bn(i=-1===e?a:arguments[e])){if(c+(o=at(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,c++)r in i&&Dn(u,c,i[r])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Dn(u,c++,i)}return u.length=c,u}});var Vn=window.navigator&&window.navigator.userAgent||"",Un=/AppleWebKit\/([\d.]+)/i.exec(Vn),Yn=(Un&&parseFloat(Un.pop()),/iPad/i.test(Vn)),Kn=/iPhone/i.test(Vn)&&!Yn,Hn=/iPod/i.test(Vn),Qn=Kn||Yn||Hn,$n=(function(){var t=Vn.match(/OS (\d+)_/i);t&&t[1]&&t[1]}(),/Android/i.test(Vn)),qn=function(){var t=Vn.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),r=t[2]&&parseFloat(t[2]);return e&&r?parseFloat("".concat(t[1],".").concat(t[2])):e||null}(),Xn=($n&&/webkit/i.test(Vn),/Firefox/i.test(Vn)),Jn=function(){var t=Vn.match(/Firefox\/(\d+)/);return t&&t[1]?parseFloat(t[1]):null}(),Zn=/Edge\//i.test(Vn),to=/Edg\//i.test(Vn),eo=function(){var t=Vn.match(/Edg\/(\d+)/);return t&&t[1]?parseFloat(t[1]):null}(),ro=!Zn&&/Chrome/i.test(Vn),no=(function(){var t=Vn.match(/Chrome\/(\d+)/);t&&t[1]&&parseFloat(t[1])}(),function(){var t=Vn.match(/Chrome\/([\d.]+)/);return t&&t[1]?t[1]:null}()),oo=(/MSIE\s8\.0/.test(Vn),function(){var t=/MSIE\s(\d+)\.\d/.exec(Vn),e=t&&parseFloat(t[1]);!e&&/Trident\/7.0/i.test(Vn)&&/rv:11.0/.test(Vn)&&(e=11)}(),/Safari/i.test(Vn)&&!ro&&!$n&&!Zn),io=function(){var t=Vn.match(/Version\/([\d.]+)/);return t&&t[1]?t[1]:null}(),ao=/TBS\/\d+/i.test(Vn),uo=(function(){var t=Vn.match(/TBS\/(\d+)/i);if(t&&t[1])t[1]}(),!ao&&/MQQBrowser\/\d+/i.test(Vn),!ao&&/ QQBrowser\/\d+/i.test(Vn),/(micromessenger|webbrowser)/i.test(Vn),/Windows/i.test(Vn),/MAC OS X/i.test(Vn),/Linux/i.test(Vn),/MicroMessenger/i.test(Vn),/UCBrowser/i.test(Vn),/MiuiBrowser/i.test(Vn),/HuaweiBrowser/i.test(Vn),"file:"===location.protocol||"localhost"===location.hostname||/^\d+\.\d+\.\d+\.\d+$/.test(location.hostname)),co=function(){return!(ro&&no<56||oo&&io<11||to&&eo<80||Xn&&Jn<56||Qn&&io<14||("undefined"!=typeof AudioContext&&(t=new AudioContext),void 0!==window.webkitAudioContext&&(t=new window.webkitAudioContext),void 0!==window.mozAudioContext&&(t=new window.mozAudioContext),!(t.createMediaElementSource&&t.createMediaStreamDestination&&t.createMediaStreamSource)));var t},so=function(t){return"string"==typeof t},fo=function(){return"undefined"!=typeof AudioContext?new AudioContext:void 0!==window.webkitAudioContext?new window.webkitAudioContext:void 0!==window.mozAudioContext?new window.mozAudioContext:void 0},lo=function(){var t=r(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!po()&&!ho()){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,navigator.mediaDevices.enumerateDevices();case 4:return e=t.sent,t.abrupt("return",e.filter((function(t){return"audioinput"===t.kind})).map((function(t,e){var r=t.label;t.label||(r="microphone_".concat(e));var n={label:r,deviceId:t.deviceId,kind:t.kind};return t.groupId&&(n.groupId=t.groupId),n})));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ho=function(){return void 0===navigator.mediaDevices&&(console.error("navigator.mediaDevices is not supported on your browser"),!0)},po=function(){return"http:"===location.protocol&&!uo&&(console.error("you should use "),!0)},vo=function(){var t=r(regeneratorRuntime.mark((function t(e){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("getSettings"in MediaStreamTrack.prototype)){t.next=8;break}if(r=e.getSettings(),n=r.deviceId,!so(n)||!n.startsWith("WebAudio")){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,lo();case 6:return o=t.sent,t.abrupt("return",o.findIndex((function(t){return t.deviceId===n}))>=0);case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),yo=p((function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(t,e,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var u=new o(n,i||t,a),c=r?r+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],u]:t._events[c].push(u):(t._events[c]=u,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function u(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),u.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},u.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,a=new Array(i);o<i;o++)a[o]=n[o].fn;return a},u.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,o,i,a){var u=r?r+t:t;if(!this._events[u])return!1;var c,s,f=this._events[u],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,o),!0;case 5:return f.fn.call(f.context,e,n,o,i),!0;case 6:return f.fn.call(f.context,e,n,o,i,a),!0}for(s=1,c=new Array(l-1);s<l;s++)c[s-1]=arguments[s];f.fn.apply(f.context,c)}else{var d,h=f.length;for(s=0;s<h;s++)switch(f[s].once&&this.removeListener(t,f[s].fn,void 0,!0),l){case 1:f[s].fn.call(f[s].context);break;case 2:f[s].fn.call(f[s].context,e);break;case 3:f[s].fn.call(f[s].context,e,n);break;case 4:f[s].fn.call(f[s].context,e,n,o);break;default:if(!c)for(d=1,c=new Array(l-1);d<l;d++)c[d-1]=arguments[d];f[s].fn.apply(f[s].context,c)}}return!0},u.prototype.on=function(t,e,r){return i(this,t,e,r,!1)},u.prototype.once=function(t,e,r){return i(this,t,e,r,!0)},u.prototype.removeListener=function(t,e,n,o){var i=r?r+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var u=this._events[i];if(u.fn)u.fn!==e||o&&!u.once||n&&u.context!==n||a(this,i);else{for(var c=0,s=[],f=u.length;c<f;c++)(u[c].fn!==e||o&&!u[c].once||n&&u[c].context!==n)&&s.push(u[c]);s.length?this._events[i]=1===s.length?s[0]:s:a(this,i)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})),go=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","interruptbegin","interruptend","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],mo=function(){function t(e){n(this,t),this.emitter=new yo,this.audioContext=fo(),this.destination=this.audioContext.createMediaStreamDestination(),this.source=null,this.audio=this.createEl(e)}return i(t,[{key:"createEl",value:function(t){var e=this,r=document.createElement("audio");return this.audio=r,r.crossOrigin="anonymous",r.src=t.url,this.source=this.audioContext.createMediaElementSource(r),this.source.connect(this.destination),go.forEach((function(t){r.addEventListener(t,(function(r){e.emitter.emit(t,r)}))})),"boolean"==typeof t.loop&&(this.audio.loop=t.loop),t.volume&&this.setVolume(t.volume),r}},{key:"getStream",value:function(){return this.destination.stream}},{key:"play",value:function(){var t=this;this.audio&&this.audio.play().then((function(){console.log("Audio ".concat(t.audio.src," play success"))})).catch((function(e){t.emitter.emit("error",e)}))}},{key:"pause",value:function(){this.audio&&this.audio.pause()}},{key:"resume",value:function(){this.audio&&(this.audio.pause(),this.audio.currentTime=0)}},{key:"stop",value:function(){this.audio&&(this.audio.pause(),this.audio.currentTime=0)}},{key:"setPosition",value:function(t){if(t<0&&t>this.duration())throw new Error("时间超出歌曲时长");this.audio&&(this.audio.currentTime=t)}},{key:"getPosition",value:function(){if(this.audio)return this.audio.currentTime}},{key:"setVolume",value:function(t){if(t>1&&t<0)throw new Error("音量超出限制");this.audio&&(this.audio.volume=t)}},{key:"getVolume",value:function(){if(this.audio)return this.audio.volume}},{key:"setPlayBackRate",value:function(t){if(t>8&&t<0)throw new Error("速率超出限制");this.audio&&(this.audio.playbackRate=t)}},{key:"getPlayBackRate",value:function(){if(this.audio)return this.audio.playbackRate}},{key:"duration",value:function(){if(this.audio)return this.audio.duration||0}},{key:"loop",value:function(t){if(void 0===t)return this.audio.loop;"boolean"==typeof t&&(this.audio.loop=t)}},{key:"on",value:function(t,e){this.emitter.on(t,e)}},{key:"off",value:function(t,e){"*"===t?this.emitter.removeAllListeners():this.emitter.off(t,e)}}]),t}(),wo=new(function(){function t(){n(this,t),this.audioTrackMap=new Map}return i(t,[{key:"createAudioSource",value:function(t){return this.checkAudioSourceParams(t),new mo(t)}},{key:"mix",value:function(t){this.checkMixParams(t);var e=t.targetTrack,r=t.sourceList,n=t.trackList,o=fo(),i=o.createMediaStreamDestination();if(e){var a=new MediaStream;a.addTrack(e),o.createMediaStreamSource(a).connect(i)}r&&r.forEach((function(t){var e=document.createElement("audio");e.srcObject=t.getStream(),e.play().then((function(){console.log("".concat(t.audio.src," mix success"))})).catch((function(){throw new Error("".concat(t.audio.src," mix error"))}));var r=o.createMediaStreamSource(t.destination.stream),n=o.createGain();r.connect(n),n.connect(i)})),n&&n.forEach((function(t){var e=new MediaStream;e.addTrack(t);var r=o.createMediaStreamSource(e),n=o.createGain();r.connect(n),n.connect(i)}));var u=i.stream.getAudioTracks()[0];return this.setAudioTrackMap({targetTrack:e,sourceList:r,trackList:n,id:u.id}),u}},{key:"setAudioTrackMap",value:function(t){var e=this,r=t.targetTrack,n=t.sourceList,o=t.id,i=!1,a=null;r?vo(r).then((function(t){if(t)i=t,a=r;else{var n=e.audioTrackMap.get(r.id);if(n){var o=n.hasMicrophone,u=n.microphoneTrack;i=o,a=u}else i=!1,a=null}})):(i=!1,a=null),this.audioTrackMap.set(o,{sourceList:n,targetTrack:r,hasMicrophone:i,microphoneTrack:a})}},{key:"checkAudioSourceParams",value:function(t){var e=t.url,r=t.loop,n=t.volume;if(!so(e))throw new Error("url is invalid.");if(r&&"boolean"!=typeof r)throw new Error("loop is invalid.");if(n&&(!function(t){return"number"==typeof t}(n)||n<0||n>1))throw new Error("volume is invalid.");var o=e.lastIndexOf("."),i=e.substr(o+1),a=["mp3","ogg","wav","flac"].indexOf(i)>=0,u=e.startsWith("blob"),c=e.startsWith("data");if(!(a||u||c))throw new Error("url is invalid.")}},{key:"checkMixParams",value:function(t){if(!co())throw new Error("Your browser is not compatible with AudioMixerPlugin");var e=t.targetTrack,r=t.sourceList,n=t.trackList;if(e&&"audio"!==e.kind)throw new Error("targetTrack is invalid.");if(!r&&!n)throw new Error("params is invalid.");r&&Array.isArray(r)&&r.forEach((function(t){if(!(t instanceof mo))throw new Error("sourceList is invalid.")})),n&&Array.isArray(n)&&n.forEach((function(t){if(!(t instanceof MediaStreamTrack&&"audio"===t.kind))throw new Error("audioTracks is invalid")}))}},{key:"getAudioTrackMap",value:function(){return this.audioTrackMap}}]),t}());if(wo.isSupported=function(){return co()},!t)throw new Error("没有加载 TRTC");return t.AudioMixerPlugin=wo,wo}));
